<!DOCTYPE html>


<head>
	<title>OBJ Reader</title>
	<meta charset="utf-8">
</head>


<body>
	<script>

		var obj = `
# Blender v2.83.5 OBJ File: 'round-palm.blend'
# www.blender.org
o PhysicsFrame_Cube
v -0.654622 -0.551405 0.152541
v -0.833959 -0.049031 0.149967
v -0.654622 -0.551405 -0.123536
v -0.833959 -0.049031 -0.150372
v 0.630153 -0.592700 0.152541
v 0.735106 -0.362642 0.149967
v 0.630153 -0.592700 -0.123536
v 0.735106 -0.362642 -0.150372
v -0.719848 0.567267 0.149967
v -0.361639 0.814313 0.131506
v -0.287677 0.682745 -0.119805
v -0.719847 0.548039 -0.146032
v 0.224090 0.878087 0.131506
v 0.704860 0.054673 0.149967
v 0.247882 0.711731 -0.120216
v 0.704859 0.035475 -0.147131
v -0.384395 -0.860050 0.152541
v -0.384395 -0.860050 -0.123536
v 0.356972 -0.860050 0.152541
v 0.356972 -0.860050 -0.123536
v 0.618283 0.675139 -0.135650
v 0.579029 0.824474 0.141921
v -0.644034 0.685386 0.141299
v -0.578296 0.598657 -0.135101
s off
f 2 9 12 4
f 8 16 14 6
f 4 12 16 8
f 6 14 9 2
f 3 1 2 4
f 7 3 4 8
f 5 7 8 6
f 1 5 6 2
f 5 1 17 19
f 10 11 24 23
f 11 15 21 16 12 24
f 15 13 22 21
f 13 10 23 9 14 22
f 15 11 10 13
f 18 20 19 17
f 7 5 19 20
f 3 7 20 18
f 1 3 18 17
f 21 22 14 16
f 23 24 12 9

`;

		function r(x) { return Math.round(100*x)/100; }
		
		
		obj = obj.split( '\n' );
		
		var vertices = [],
			faces = [];
			
		for( var row of obj )
		{
			row = row.split( ' ' );
			if( row[0] == 'v' )
			{
				vertices.push( `[${r(row[1])},${r(row[2])},${r(row[3])}]` );
			}
			else if( row[0] == 'f' )
			{
				var rs = [];
				for( var i=1; i<row.length; i++ )
					rs.push( row[i]-1 );
					
				faces.push( `[${rs.join(',')}]` );
			}
		}
		
		console.log( `[${vertices.join(',')}]` );
		console.log( `[${faces.join(',')}]` );
	</script>
</body>
